<!--pages/notes/notes.wxml-->
<view class="container">
  <!-- æœç´¢æ  -->
  <view class="search-bar">
    <view class="search-input-wrapper">
      <text class="search-icon">ğŸ”</text>
      <input 
        class="search-input" 
        placeholder="æœç´¢ç¬”è®°..." 
        value="{{keyword}}"
        bindconfirm="onSearch"
      />
    </view>
  </view>

  <!-- ç¬”è®°åˆ—è¡¨ -->
  <view class="notes-list" wx:if="{{notes.length > 0}}">
    <view class="note-card" wx:for="{{notes}}" wx:key="id" bindtap="viewNote" data-id="{{item.id}}">
      <view class="note-header">
        <text class="note-title">{{item.title}}</text>
        <text class="note-date">{{item.created_at}}</text>
      </view>
      <text class="note-content">{{item.content}}</text>
      <view class="note-footer">
        <view class="note-tags" wx:if="{{item.tags && item.tags.length > 0}}">
          <text class="tag" wx:for="{{item.tags}}" wx:key="index" wx:for-item="tag">#{{tag}}</text>
        </view>
        <view class="note-actions">
          <text class="action-icon">â¤ï¸</text>
          <text class="action-count">{{item.like_count || 0}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty" wx:else>
    <text class="empty-icon">ğŸ“</text>
    <text class="empty-text">è¿˜æ²¡æœ‰ç¬”è®°</text>
    <button class="btn-primary" bindtap="createNote">å†™ç¬¬ä¸€ç¯‡ç¬”è®°</button>
  </view>

  <!-- æ‚¬æµ®æŒ‰é’® -->
  <view class="fab" bindtap="createNote">
    <text class="fab-icon">+</text>
  </view>
</view>
